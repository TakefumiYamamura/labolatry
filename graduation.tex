\documentclass[a4paper,11pt,oneside,openany]{jsbook}
\usepackage{graphicx,enumerate}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{float}
\pagestyle{plain}
\setlength{\textwidth}{\fullwidth}
\setlength{\evensidemargin}{\oddsidemargin}
\begin{document}
\thispagestyle{empty}
%------------------------------標題紙作成エリア----------------------------%
2015年度　卒業論文%1
\bigskip%2
\LARGE%3
\begin{center}
卒業論文
\end{center}
\bigskip\bigskip\bigskip\bigskip\bigskip\bigskip\bigskip %7
\begin{center} %8
適応DEにおけるArchiveの性能評価について
\end{center}
\large %11
\begin{center}
Evaluating Performance Of Archive In Adaptated Differential Evolution
\end{center}
\bigskip\bigskip\bigskip\bigskip\bigskip\bigskip\bigskip\bigskip\bigskip\bigskip
\bigskip\bigskip\bigskip\bigskip\bigskip\bigskip\bigskip\bigskip\bigskip
\Large %17
\begin{center}
総合情報学コース
\end{center}
\LARGE %21
\begin{center}
山村　武史
\end{center}
\normalsize
%---------------------------------目次エリア-------------------------------%
\thispagestyle{empty}
\tableofcontents
%---------------------------------本文エリア-------------------------------%

\chapter{序論}
\section{研究の背景}
実数値最適化問題とは，あるD次元の実数値ベクトル${x} = (x_1, x_2, \cdots, x_D)$と，それを評価する関数$f(x)$が与えられたときその評価関数を最小もしくは最大化するような実数値ベクトル$x$を探す問題である．多峰性や悪スケール性が高い評価関数において，局所解を脱し，大域的な最適解を見つつけだすことが実数値最適化問題において重要となる点の一つである．

そのような実数値最適化問題を対象とする確率的手法の一つとして，差分進化(Differential Evlolution:DE)\cite{Storn}が用いられる．
最初のDEは，1995年にPrice, K.V.(プライス)とStorn,R.M.(ストーン)によって提案された．
DEは処理手順が簡単でありながらも，典型的な実数値GAと比べても最適解に比較的素早く収束する．
このためDEは現実的な最適化問題に対して多くの適用例が報告されている\cite{ExDE}.

\section{関連研究}
DEの探索性能は用いる制御パラメータに大きく依存し，そのパラメタは集団数,scaling factor F, crossover rate CRである．しかしこれらのパラメータの適切な値は使用する関数や問題設定によって異なり，実問題をとく上でこれらのパラメータをユーザーが試行錯誤する必要がある．
これらのパラメータを探索中に適応的に変化させていく適応型のDEに関する研究が数多く行われている．
適応型のDE手法としてはJADE\cite{JADE}，SHADE\cite{SHADE}などが挙げられる．
JADEでは適応戦略以外に，探索性能を強化するために過去の劣解を保持するアーカイブが初めて用いられた．
このアーカイブはJADEにて提唱されその後もSHADEを始めとした多くの適応DEにて使用されている．
しかしアーカイブは問題設定などによっては，探索性能の向上にうまくつながらないこともあり，そのメカニズムについての詳しい研究は未だなされていない．本論文では，アーカイブがDEにおいてどのような役割を果たしているか解明するとともに，従来のアーカイブを改善した手法を幾つか提案する．

\section{本研究の目的}
本研究の目的は２つある．
\begin{enumerate}
\item Archiveが多様性の維持にどれほど役に立っているかを定性的に調査する
\vspace{3mm}
\newline
Archiveには，生存選択の時に，劣解として，子個体に上書きされた親個体が保存される．変異ベクトル作成時にArchiveに保存された劣解を用いることで，解集団における多様性の維持に役立つ．本研究では，Archive使用時と未使用時における解集団の多様性を，適応度の分散と，重心からの距離の分散をみることで比較し，下位集団が多様性を維持しているかどうか定量的に分析を行う．
\newline


\item Archiveを改良することで，探索性能を向上できないかいくつか手法を提案する提案する．
\vspace{3mm}
\newline
Archiveシステムは多くの適応DEについて使われているにも関わらず，そのシステムについての改良は他の制御パラメータであるF（Scaling Factor）やCR(Crossover Rate)に比べ試みられていない．
JADE論文にて提唱されたArchiveシステムの改善を試みた手法とその性能評価を行う．


\end{enumerate}


\section{本論文の構成}
本論文は以下の通りに構成される。2 章で DEの詳細と適応DE，アーカイブの使用例について説明する3 章ではアーカイブの性能を重心距離と適応度f(x)の値をもとに観察する．4章ではアーカイブを改善したいくつかの手法について説明する．5章では本研究における知見をまとめる．

\chapter{Differential Evolutionとアーカイブ}
\section{Differential Evolution}
まず基本的なDEアルゴリズムについて説明する．DEの集団中の各個体${i} = (1, 2, \cdots, N)$は対象問題の解ベクトル${x_i} = (x_1, x_2, \cdots, x_D)$で表現される．ここでNは集団数，Dは次元数である．探索開始時に各個体は探索領域内にランダムに初期化される．その後，突然変異戦略による変異個体の生成，交叉による子個体の生成，生存選択を，探索の終了条件を満たすまで繰り返す．
各世代Gにおいて各変異個体${v_i}$となる変異ベクトルをその集団中の複数の個体に突然変異戦略を適用することで生成する．代表的な突然変異戦略をTable1にて示す．Table1において${F\in(0,1]}$は突然変異の幅を調整する制御パラメータのひとつスケーリングファクターである．$x_{r1},x_{r2},x_{r3},x_{r4},x_{r5}$は${x_i}$と互いと異なるように集団$P = {x_1, \cdots, x_N}$からランダムに選択した個体である．$x_{best}$は各世代における最良個体であり，$x_{pbest}$は集団$P$を評価値の良い順に並び替え，${p\in[0,1]}とした時の上位$max$(N \times p, 2)$個体からランダムに選択した個体である．
current-to-pbest/1とrand-to-pbest/1の${x_{Ar2}}$,${x_{Ar3}}$は集団Pと後述のアーカイブAの集合からランダムに選択した個体である．
それぞれの突然変異戦略をみていくとbest/1, best/2は変異個体{$v_i$}をを最良個体$x_{best}$の付近に生成する．
それに対しcurrent-to-best/1は対象個体から$x_{best}$にむかうように変異個体{$v_i$}を生成する．そのためrand/1やrand/2などに比べ局所的探索能力が強い戦略である．また加える差ベクトルの数が多いほど多様な{$v_i$}を生成しやすい．
\begin{table}[htb]
  \begin{center}
    \begin{tabular}{ll} \hline
      突然変異戦略　& 定義  \\ \hline
      rand/1 & $v_{i} = x_{r1} + F\cdot(x_{r2} - x_{r3})$ \\
      rand/2 & $v_{i} = x_{r1} + F\cdot(x_{r2} - x_{r3}) + F\cdot(x_{r4} - x_{r5})$ \\
      best/1 & $v_{i} = x_{best} + F\cdot(x_{r1} - x_{r2})$ \\
      best/2 & $v_{i} = x_{best} + F\cdot(x_{r1} - x_{r2}) + F\cdot(x_{r3} - x_{r4})$ \\
      current-to-rand/1 & $v_{i} = x_{i} + F\cdot(x_{r1} - x_{i}) + F\cdot(x_{r2} - x_{r3})$ \\
      current-to-best/1 & $v_{i} = x_{i} + F\cdot(x_{best} - x_{i}) + F\cdot(x_{r1} - x_{r2})$ \\
      current-to-pbest/1 & $v_{i} = x_{i} + F\cdot(x_{pbest} - x_{i}) + F\cdot(x_{r1} - x_{Ar2})$ \\
      rand-to-pbest/1 & $v_{i} = x_{r1} + F\cdot(x_{pbest} - x_{r1}) + F\cdot(x_{r2} - x_{Ar3})$ \\ \hline
    \end{tabular}
    \caption{DEにおける代表的な突然変異戦略}
  \end{center}
\end{table}


次に親個体$x_i$と変異個体$v_i$を交叉させることで子個体$u_i$を生成する．DEの代表的な交叉手法には二項交叉(binomial crossover)と指数交叉（exponential crossover）がある．まずbinomial crossoverについて紹介する．二項交叉では交叉率$CR(0 \leq CR \leq 1)$とランダムに選択した添字$j_{rand}(1 \leq j \leq D)$に基づき，Algorithm1のように子個体$u_i$の各要素　$u_{i,j} \in u_{i}(j = 1, \cdots, D)$を決定する．

\begin{algorithm}                      
\caption{Binomial Crossover}         
\label{alg:pbnf}                          
\begin{algorithmic}  
\STATE $j_{rand} = randi[1, D]$;
\FOR{$j=1$ to $D$}
  \IF {$rand[0,1)　\leq CR　|| j == j_{rand} $}
    \STATE {$u_(i,j)$ = $v_(i,j)$}  
  \ELSE
    \STATE {$u_(i,j)$ = $x_(i,j)$}
  \ENDIF
\ENDFOR
\end{algorithmic}
\end{algorithm}　

全ての個体が子個体を生成した後，次世代に残る個体を決定する．DEでは親個体と子個体の適応度を評価関数$f(x)$を用いて比較し，評価値の良いものを次世代へ残す．
この選択の際，current-to-pbest/1，及びrand-to-pbest/1のアーカイブ戦略を用いた場合，子個体より劣っていた親個体$x_{i}$を，アーカイブに保存する．アーカイブのサイズは集団Pのサイズと等しく，そのサイズを超えた場合，すでにあるアーカイブの中から，ランダムにその要素を取り除く．current-to-pbest，current-to-randの突然変異戦略において，アーカイブと集団Pの和集合からターゲットベクターを選択することで，解集団における多様性の維持荷役だつ．
このアーカイブは\cite{JADE}にて提唱され，，その後も適応DEの多くでこの機構が使われ続けている．本論文ではこのアーカイブの性能を評価するとともに，


下におおまかに
各世代において，各個体${x_i}$ごとに変異個体${v_i}$を

最後に本節で述べたDEアルゴリズムの全体をAlgorithm 1に示す．
\begin{algorithm}                      
\caption{Differential Evolution}         
\label{alg:pbnf}                          
\begin{algorithmic}  
\STATE init population ${P} = (x_1, x_2, \cdots, x_N)$;
\WHILE {the termination crirteria are not met}
    \FOR{$i=1$ to $N$}
        \STATE generate mutant vector {$v_i$} by mutation strategy;
        \STATE generate trial vector {$u_i$} by crossing over {$x_i$} and {$v_i$}; 
    \ENDFOR
    \FOR{$i=1$ to $N$}
        \IF {$f(u_i) \leq f(x_i)$}
            \STATE {$x_i=u_i$};
        \ENDIF
    \ENDFOR
\ENDWHILE
\end{algorithmic}
\end{algorithm}　　　　　　　　　　　　　　　　　　　　　


\section{Adaptive Differential Evolution (JADE)}
JADEはFとCRの自動調整のため，それぞれ適応メタパラメータ$\mu _F,\mu _{CR}$ を使用する．これらのパラメータは探索開始時に0.5に初期化され，探索中に適応的に変動する，各世代のはじめに，各個体$x_i$の$F_i$と$CR_i$ををそれぞれ次のように生成する．

\begin{eqnarray}
  F_i & = & randc(\mu _F, 0.1) \\
  CR_i & = & randn(\mu _{CR}, 0.1)
\end{eqnarray}

ここで$randc(\mu,　\sigma)$は位置パラメータ$\mu$と尺度パラメータ$\sigma$のコーシー分布に従う乱数,$randn(\mu,\sigma^2)$ は平均$\mu$，標準偏差$\sigma^2$の正規分布に従う乱数である．$F_i$の値が$F_i>1$の場合は
$F_i　= 1$とし $F_i\le1qの$の場合は再び式2.1を用いて生成を行う．$CR_i$の値が[0,1]区間より外の場合は超えた方の境界値で置き換えられる．

各世代の終了後に，成功したFとCRに基づき$\mu _F, \mu _{CR}$を更新する．
次の式のうち$S_F,S_{CR}$はは成功した$F_i,CR_i$の集合である．$c\in[0,1]$は学習率である．また$mean_A$は算術平均, $mean_L$はLehmer平均である．

\begin{eqnarray}
  \mu_F & = & (1 - c)\cdot\mu _F + c\cdot mean_L(S_F)\\
  \mu_{CR} & = & (1 - c)\cdot\mu _{CR} + c\cdot mean_A(S_{CR})
\end{eqnarray}


DEの探索性能はスケーリングパラメータFとクロスオーバーレイトCRにに大きく依存するものであった．これらのパラメータを適応的に変化させる手法がDEのstate of the art な手法として主流となっている，本項では適応DEの一つとしてJADEについて説明する．
\section{Succes-History based Adaptive Differential Evolution (SHADE)}
さきほどのJADEにつづいて本項では過去の成功したパラメータをもとに適応パラメータを変化させるSHADEについて説明する．

\chapter{アーカイブの定性的な解析}
\section{重心距離に基づく多様性維持の維持の観察}
\section{アーカイブと適応DE}
\chapter{適応型DifferentialEvolutionとアーカイブ}
\chapter{アーカイブの性能比較}
\section{重心距離による多様性維持の観察}
\section{}

\chapter{終わりに}
\section{謝辞}
研究室の先輩方にはミーティングや中間発表を初め有益なアドバイスをずっと頂きました．
指導教員となる福永先生には，お忙しい中必ず週に一度の個別ミーティングの機会を与えてくださり，とても丁寧にご指導していただきました．
研究とはどういうものか，どのように進めれば良いのか右も左もわかっていなかった自分にそれらを一から教えてくれたことに深く感謝いたします．
また研究室の先輩の中でも，特に田邊さんには，有益なアドバイスを幾つもしていただきました．常に1を聞くと10のことを教えてくださり，そのDE研究における知見の深さに，いつも脱帽していました．改めてここで感謝の意を示します．
本当にすばらしい先輩や指導教員に恵まれた中，卒業論文を執筆できたことに幸福を感じます．
修士過程でも一つでも多くのことを学ばせていただきたいと思います．

%-----------------------------参考文献記述エリア---------------------------%
\begin{thebibliography}{10}
 \bibitem{Storn}R.Storn and K. Price. Differential evolution - a simple and efficient heuristic for global optimization over continuous spaces. Journal of Global Optimization, 11(4):341-359, 1997 
  \bibitem{ExDE}K.V.Price, R, N.Storn and J.A. Lampinen.Differential Evolution - A Practical Approach to Global Opticization. Springer, Berlin Heidelberg, 2005.
  \bibitem{JADE}J. Zhang and A. C. Sanderson: JADE: Adaptive DifferentialEvolution With Optional External Archive,IEEE Tran. Evol.Comput.,13–5, 945/958 (2009)
  \bibitem{SHADE}R. Tanabe and A. Fukunaga: Success-History Based Param-eter Adaptation for Differential Evolution,Proceedings of the2013 IEEE Congress on Evolutionary Computation, 71/78(2013)
  \bibitem{澤田}澤田昭夫. 『論文のレトリック』 
   講談社学術文庫, 講談社, 1983, 330p.

\end{thebibliography}
%---------------------------------必須エリア-------------------------------%
\end{document}


%----------------------------ファイルはここまで----------------------------%
